{% load static sass_tags %}

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Technofatty{% endblock %}</title>
  <meta name="description" content="{% block meta_description %}Tech resources and community.{% endblock %}">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% if canonical_url %}<link rel="canonical" href="{{ canonical_url }}" />{% endif %}
  <link rel="stylesheet" href="{% sass_src 'coresite/scss/main.scss' %}">
  {% block head_extras %}{% endblock %}
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header {% if request.path == '/' %}hero-mode{% else %}fixed-mode{% endif %}">
    {% block header %}
      <!-- Desktop Navigation -->
      <nav class="desktop-nav">
        <div class="desktop-nav__logo">
          <a href="/">Technofatty</a>
        </div>
        <ul class="desktop-nav__links">
          <li><a href="/">Home</a></li>
          <li><a href="{% url 'about' %}">About</a></li>
          <li><a href="{% url 'services' %}">Services</a></li>
          <li><a href="{% url 'contact' %}">Contact</a></li>
        </ul>
        <div class="desktop-nav__cta">
          <a class="btn btn--cta" href="/community/join/">Join Us</a>
        </div>
      </nav>

      <!-- Global Hamburger -->
      <div class="global-hamburger">
        <button class="hamburger-btn" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="menu-overlay">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
    {% endblock %}
  </header>

  <!-- Backdrop -->
  <div class="menu-backdrop"></div>

  <!-- Slide-in Menu Overlay -->
  <nav id="menu-overlay" class="menu-overlay" aria-hidden="true">
    <div class="menu-overlay__content">
      <button class="menu-overlay__close" aria-label="Close menu">&times;</button>
      <ul class="menu-overlay__links">
        <li><a href="/">Home</a></li>
        <li><a href="{% url 'about' %}">About</a></li>
        <li><a href="{% url 'services' %}">Services</a></li>
        <li><a href="{% url 'contact' %}">Contact</a></li>
        <li><a class="btn btn--cta" href="/community/join/">Join Us</a></li>
      </ul>
    </div>
  </nav>

  <main id="main">
    {% block content %}{% endblock %}
  </main>

  {% block footer %}{% endblock %}

  <script src="{% static 'coresite/js/main.js' %}?v={{ now|date:'U' }}" defer></script>
  {% block body_scripts %}{% endblock %}
</body>
</html>
