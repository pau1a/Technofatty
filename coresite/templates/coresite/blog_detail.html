{% extends "coresite/base.html" %}

{% block meta %}
  <title>{{ post.title }} | Technofatty</title>
  <meta name="description" content="{{ post.excerpt|default:'A blog post on Technofatty.' }}">
  <link rel="canonical" href="{{ canonical_url }}">
  <meta property="og:title" content="{{ post.title }} | Technofatty">
  <meta property="og:description" content="{{ post.excerpt|default:'A blog post on Technofatty.' }}">
  <meta property="og:url" content="{{ canonical_url }}">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Technofatty">
  {% if post.date %}<meta property="article:published_time" content="{{ post.date|date:'c' }}">{% endif %}
  {% if post.updated %}<meta property="article:modified_time" content="{{ post.updated|date:'c' }}">{% endif %}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="{{ post.title }} | Technofatty">
  <meta name="twitter:description" content="{{ post.excerpt|default:'A blog post on Technofatty.' }}">
  <meta name="twitter:url" content="{{ canonical_url }}">
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ post.title|escapejs }}",
  "url": "{{ canonical_url }}",
  "mainEntityOfPage": "{{ canonical_url }}",
  "datePublished": "{{ post.date|date:'c' }}",
  "dateModified": "{{ post.date|date:'c' }}",
  "author": {
    "@type": "Organization",
    "name": "Technofatty"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Technofatty"
  },
  "description": "{{ post.excerpt|default:'A blog post on Technofatty.'|escapejs }}",
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "{{ request.scheme }}://{{ request.get_host }}{% url 'home' %}"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "{{ request.scheme }}://{{ request.get_host }}{% url 'blog' %}"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "{{ post.title|escapejs }}",
        "item": "{{ canonical_url }}"
      }
    ]
  }
}
</script>
{% endblock %}

{% block content %}
  <section class="section section--scaffold" role="region" aria-labelledby="{{ page_id }}-heading">
    <div class="wrap">
        <div class="scaffold__body">
          {% include "coresite/partials/global/status_placeholder.html" %}
          <p class="back-link"><a href="{% url 'blog' %}">← Back to Blog</a></p>
          <h1 id="{{ page_id }}-heading">{{ page_title }}</h1>
          <p class="post-meta">
            <time datetime="{{ post.date|date:'Y-m-d' }}">{{ post.date|date:'d M Y' }}</time> ·
            <a href="{% url 'blog_category' post.category.slug %}">{{ post.category.title }}</a> ·
            {% for tag in post.tags %}<a href="{% url 'blog_tag' tag.slug %}">#{{ tag.title }}</a>{% if not forloop.last %} {% endif %}{% endfor %}
          </p>
          <nav class="post-outline" aria-label="In this post"></nav>
          <article class="post-body"></article>
          <p class="post-taxonomy">Filed under <a href="{% url 'blog_category' post.category.slug %}">{{ post.category.title }}</a> · {% for tag in post.tags %}<a href="{% url 'blog_tag' tag.slug %}">#{{ tag.title }}</a>{% if not forloop.last %} {% endif %}{% endfor %}</p>
        </div>
      </div>
    </section>
  {% endblock %}
