{% extends "coresite/base.html" %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ post.title|escapejs }}",
  "url": "{{ request.scheme }}://{{ request.get_host }}{% url 'blog_post' post.slug %}",
  "datePublished": "{{ post.date|date:'Y-m-d' }}",
  "dateModified": "{{ post.date|date:'Y-m-d' }}",
  "author": {
    "@type": "Person",
    "name": "Technofatty"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Technofatty"
  },
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "{{ request.scheme }}://{{ request.get_host }}{% url 'home' %}"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "{{ request.scheme }}://{{ request.get_host }}{% url 'blog' %}"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "{{ post.title|escapejs }}",
        "item": "{{ request.scheme }}://{{ request.get_host }}{% url 'blog_post' post.slug %}"
      }
    ]
  }
}
</script>
{% endblock %}

{% block content %}
  <section class="section section--scaffold" role="region" aria-labelledby="{{ page_id }}-heading">
    <div class="wrap">
        <div class="scaffold__body">
          {% include "coresite/partials/global/status_placeholder.html" %}
          <p class="back-link"><a href="{% url 'blog' %}">← Back to Blog</a></p>
          <h1 id="{{ page_id }}-heading">{{ page_title }}</h1>
          <p class="post-meta">
            <time datetime="{{ post.date|date:'Y-m-d' }}">{{ post.date|date:'d M Y' }}</time> ·
            <a href="{% url 'blog_category' post.category.slug %}">{{ post.category.title }}</a> ·
            {% for tag in post.tags %}<a href="{% url 'blog_tag' tag.slug %}">#{{ tag.title }}</a>{% if not forloop.last %} {% endif %}{% endfor %}
          </p>
          <nav class="post-outline" aria-label="In this post"></nav>
          <article class="post-body"></article>
          <p class="post-taxonomy">Filed under <a href="{% url 'blog_category' post.category.slug %}">{{ post.category.title }}</a> · {% for tag in post.tags %}<a href="{% url 'blog_tag' tag.slug %}">#{{ tag.title }}</a>{% if not forloop.last %} {% endif %}{% endfor %}</p>
        </div>
      </div>
    </section>
  {% endblock %}
