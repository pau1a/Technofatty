{% extends "coresite/base.html" %}
{% block content %}
<h1>Password reset</h1>
<form method="post" class="auth-form" novalidate>
  {% csrf_token %}

  {% if form.errors %}
  <div class="error-summary" role="alert" tabindex="-1">
    <p>Please correct the errors below.</p>
    <ul>
      {% for field in form %}
        {% for error in field.errors %}
          <li><a href="#{{ field.id_for_label }}">{{ error }}</a></li>
        {% endfor %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% for field in form %}
  <div class="form-field">
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    {% if field.errors %}
      {{ field.as_widget(attrs={"aria-describedby": field.id_for_label|add:"-error", "aria-invalid": "true"}) }}
      <div class="error-message" id="{{ field.id_for_label }}-error">
        {{ field.errors|striptags }}
      </div>
    {% else %}
      {{ field }}
    {% endif %}
  </div>
  {% endfor %}

  <button type="submit">Reset password</button>
 </form>
{% endblock %}

