{% extends "coresite/base.html" %}
{% load form_tags %}
{% block content %}
<h1>Sign up</h1>
<p>Fill out the form below. An activation link will be sent to your email.</p>
<form method="post" class="auth-form" novalidate>
  {% csrf_token %}

  {% if form.errors %}
  <div class="error-summary" role="alert" tabindex="-1">
    <p>Please correct the errors below.</p>
    <ul>
      {% for field in form %}
        {% for error in field.errors %}
          <li><a href="#{{ field.id_for_label }}">{{ error }}</a></li>
        {% endfor %}
      {% endfor %}
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% for field in form %}
  <div class="form-field">
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    {% if field.errors %}
      {% with error_id=field.id_for_label|add:"-error" %}
        {% add_attrs field aria-describedby=error_id aria-invalid="true" %}
        <div class="error-message" id="{{ error_id }}">
          {{ field.errors|striptags }}
        </div>
      {% endwith %}
    {% else %}
      {{ field }}
    {% endif %}
  </div>
  {% endfor %}

  <button type="submit">Sign up</button>
</form>
{% endblock %}
